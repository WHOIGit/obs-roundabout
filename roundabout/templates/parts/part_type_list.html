<!--
# Copyright (C) 2019-2020 Woods Hole Oceanographic Institution
#
# This file is part of the Roundabout Database project ("RDB" or 
# "ooicgsn-roundabout").
#
# ooicgsn-roundabout is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 2 of the License, or
# (at your option) any later version.
#
# ooicgsn-roundabout is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with ooicgsn-roundabout in the COPYING.md file at the project root.
# If not, see <http://www.gnu.org/licenses/>.
-->

{% extends "base.html" %}
{% load static i18n %}
{% load mptt_tags %}

{% block title %}Part Types{% endblock %}

{% block content %}
<div class="container">

  <div class="parts-add-btn">
      <a href="{% url 'parts:parts_type_add' %}" role="button" class="btn btn-primary">Add Part Type</a>
  </div>
  <h2>Part Types</h2>

  <table class="table table-striped table-hover">
      <thead>
        <th>Name/description</th>
        <th>Configs, Constants, and Calibrations Enabled</th>
        <th>&nbsp;</th>

      </thead>
      <tbody>
        {% for part_type,structure in part_types|tree_info %}
          <tr>
            {% if part_type.is_child_node %}
                <td class="pl-5">{{ part_type.name }}</td>
            {% else %}
                <td>{{ part_type.name }}</td>
            {% endif %}
            <td>{{ part_type.ccc_toggle }}</td>
              <td class="text-right">
                  <a href="{% url 'parts:parts_type_update' part_type.id %}" role="button" class="btn btn-primary btn-sm">Edit</a>
                  <a href="{% url 'parts:parts_type_delete' part_type.id %}" role="button" class="btn btn-danger btn-sm">Delete</a>
              </td>
          </tr>
        {% endfor %}
      </tbody>
  </table>


</div>
{% endblock content %}
